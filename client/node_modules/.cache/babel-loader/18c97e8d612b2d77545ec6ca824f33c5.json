{"ast":null,"code":"var _jsxFileName = \"/home/subhash/Documents/last/lst_2/client/src/core/Profile.js\";\nimport React, { Component } from 'react';\nimport { isAuthenciate, read, postByUser } from '../auth/index';\nimport { Redirect, Link } from 'react-router-dom';\nimport './core.css';\n\nclass Profile extends Component {\n  constructor() {\n    super();\n\n    this.init = userId => {\n      const token = isAuthenciate().token;\n      read(userId, token).then(data => {\n        if (data.error) {\n          this.setState({\n            redirectToSigin: true\n          });\n        } else {\n          this.setState({\n            user: data\n          });\n          this.loadPosts(data._id);\n        }\n      });\n    };\n\n    this.loadPosts = userId => {\n      // const token = isAuthenciate().token;\n      postByUser(userId).then(data => {\n        if (data.error) {\n          console.log(data.error);\n        } else {\n          this.setState({\n            post: data\n          });\n        }\n      });\n    };\n\n    this.renderPost = post => React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54\n      },\n      __self: this\n    }, post.map((post, i) => React.createElement(\"div\", {\n      className: \"col-12 col-sm-12 col-md-6 col-lg-4\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"card\",\n      key: i,\n      style: {\n        padding: \"0px\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"card-body\",\n      style: {\n        padding: \"0px\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59\n      },\n      __self: this\n    }, React.createElement(Link, {\n      to: \"/post/\".concat(post._id),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      className: \"card-img-top\",\n      height: \"200\",\n      src: \"/post/photo/\".concat(post._id),\n      onError: i => i.target.src = 'https://i.stack.imgur.com/l60Hf.pnghttps://i.stack.imgur.com/l60Hf.png',\n      alt: post.title,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      className: \"card-header\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      className: \"float-left\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    }, post.likes.length, \" \\xA0\", React.createElement(\"i\", {\n      className: \"fa fa-thumbs-up\",\n      style: {\n        color: \"\tdodgerblue\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    })), React.createElement(\"p\", {\n      className: \"float-right\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    }, new Date(post.created).toDateString()))), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    }))));\n\n    this.state = {\n      user: \"\",\n      title: \"Profile\",\n      redirectToSigin: false,\n      users: {\n        following: [],\n        followers: []\n      },\n      following: false,\n      post: []\n    };\n  }\n\n  componentDidMount() {\n    const userId = this.props.match.params.userId;\n    this.init(userId);\n  }\n\n  componentWillReceiveProps(props) {\n    const userId = props.match.params.userId;\n    this.init(userId);\n  }\n\n  render() {\n    const post = this.state.post;\n    const _this$state = this.state,\n          redirectToSigin = _this$state.redirectToSigin,\n          user = _this$state.user;\n    if (redirectToSigin) return React.createElement(Redirect, {\n      to: \"/signin\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    });\n    return React.createElement(\"div\", {\n      className: \"\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"container profilecontainer\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-12 col-sm-6 col-md-6 col-lg-6\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      className: \"card-img-top\",\n      style: {\n        maxWidth: \"200px\",\n        maxHeight: \"200px\"\n      },\n      src: \"/user/photo/\".concat(user._id),\n      onError: i => i.target.src = 'https://i.stack.imgur.com/l60Hf.pnghttps://i.stack.imgur.com/l60Hf.png',\n      alt: user.name,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"col-12 col-sm-6 col-md-6 col-lg-6\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"lead\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }, \"Hello, \", user.name), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }, \"Email : \", user.email), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    }, \"Joined : \".concat(new Date(user.created).toDateString()))), isAuthenciate().user && isAuthenciate().user._id === user._id && React.createElement(React.Fragment, null, React.createElement(\"div\", {\n      className: \"d-inline-block\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    }, React.createElement(Link, {\n      className: \"btn btn-raised btn-primary mr-5\",\n      to: \"/user/edit/\".concat(user._id),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    }, \"Edit\"), React.createElement(Link, {\n      className: \"btn btn-raised btn-danger mr-5\",\n      to: \"/user/edit/\".concat(user._id),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102\n      },\n      __self: this\n    }, \"Delete\")))))), React.createElement(\"hr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111\n      },\n      __self: this\n    }), this.renderPost(post));\n  }\n\n}\n\nexport default Profile;","map":{"version":3,"sources":["/home/subhash/Documents/last/lst_2/client/src/core/Profile.js"],"names":["React","Component","isAuthenciate","read","postByUser","Redirect","Link","Profile","constructor","init","userId","token","then","data","error","setState","redirectToSigin","user","loadPosts","_id","console","log","post","renderPost","map","i","padding","target","src","title","likes","length","color","Date","created","toDateString","state","users","following","followers","componentDidMount","props","match","params","componentWillReceiveProps","render","maxWidth","maxHeight","name","email"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { isAuthenciate, read, postByUser  } from '../auth/index';\nimport { Redirect, Link } from 'react-router-dom';\nimport './core.css';\n\nclass Profile extends Component {\n    constructor() {\n        super();\n        this.state = {\n            user: \"\",\n            title: \"Profile\",\n            redirectToSigin: false,\n            users: { following: [], followers: [] },\n            following: false,\n            post: [],\n        }\n    }\n\n    init = userId => {\n        const token = isAuthenciate().token;\n        read(userId, token)\n        .then(data => {\n            if(data.error) {\n                this.setState({ redirectToSigin: true })\n            }else {\n                this.setState({ user: data })\n                this.loadPosts(data._id);\n            }\n        });\n    }\n\n    loadPosts = userId => {\n        // const token = isAuthenciate().token;\n        postByUser(userId).then(data => {\n          if (data.error) {\n            console.log(data.error);\n          } else {\n            this.setState({ post: data });\n          }\n        });\n    };\n    \n    componentDidMount() {\n        const userId = this.props.match.params.userId;\n        this.init(userId);\n    }\n\n    componentWillReceiveProps(props) {\n        const userId = props.match.params.userId;\n        this.init(userId);\n    }\n\n    renderPost = post => (\n        <div className=\"row\">\n        {\n            post.map((post, i) => (\n                <div className=\"col-12 col-sm-12 col-md-6 col-lg-4\">\n                <div className=\"card\" key={i} style={{padding: \"0px\"}}>\n                    <div className=\"card-body\" style={{padding: \"0px\"}}>\n                        <Link to={`/post/${post._id}`}>\n                            <img className=\"card-img-top\" height=\"200\"\n                                src={`/post/photo/${post._id}`}\n                                onError={i => (i.target.src = 'https://i.stack.imgur.com/l60Hf.pnghttps://i.stack.imgur.com/l60Hf.png')} \n                                alt={post.title} />\n                        </Link>\n                    </div>\n                    <div className=\"card-header\">\n                        <p className=\"float-left\">{post.likes.length} &nbsp;<i className=\"fa fa-thumbs-up\" style={{color: \"\tdodgerblue\"}}></i></p>\n                        <p className=\"float-right\">{new Date(post.created).toDateString()}</p>\n                    </div>\n                </div>\n                <br />\n                </div>\n            ))}\n        </div>\n    )\n\n    render() {\n        const { post } = this.state;\n\n        const { redirectToSigin, user} = this.state;\n             if(redirectToSigin) return <Redirect to=\"/signin\" />\n        \n        return(\n            <div className=\"\">\n            <div className=\"container profilecontainer\">\n                {/* <h2 className=\"mt-5 mb-5\" style={{color:\"white\"}}>Profile</h2> */}\n                <div className=\"row\">\n                    <div className=\"col-12 col-sm-6 col-md-6 col-lg-6\">\n                        <img className=\"card-img-top\" style={{ maxWidth: \"200px\", maxHeight: \"200px\"}} src={`/user/photo/${user._id}`} onError={i => (i.target.src = 'https://i.stack.imgur.com/l60Hf.pnghttps://i.stack.imgur.com/l60Hf.png')} alt={user.name} />\n                    </div>\n                    <div className=\"col-12 col-sm-6 col-md-6 col-lg-6\">\n                        <div className=\"lead\">\n                            <p>Hello, {user.name}</p>\n                            <p>Email : {user.email}</p>\n                            <p>{`Joined : ${new Date(user.created).toDateString()}`}</p>\n                        </div>\n                        {isAuthenciate().user && isAuthenciate().user._id === user._id && (\n                            <>\n                            <div className=\"d-inline-block\">\n                                <Link className=\"btn btn-raised btn-primary mr-5\" to={`/user/edit/${user._id}`}>Edit</Link>\n                                <Link className=\"btn btn-raised btn-danger mr-5\" to={`/user/edit/${user._id}`}>Delete</Link>\n                            </div>\n                            </>\n                        )}\n                    </div>\n\n                </div>                \n            </div>\n                <hr />\n                <br />\n                {this.renderPost(post)}            \n            </div>\n        );\n    }\n}\n\nexport default Profile;"]},"metadata":{},"sourceType":"module"}