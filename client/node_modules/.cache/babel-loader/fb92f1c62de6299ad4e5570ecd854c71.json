{"ast":null,"code":"var _jsxFileName = \"/home/subhash/Documents/last/lst_2/client/src/core/Userpost.js\";\nimport React, { Component } from 'react';\nimport { isAuthenciate, like, unlike, singlePost } from '../auth/index';\nimport { Link, Redirect } from 'react-router-dom';\n\nclass Userpost extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      post: '',\n      redirectToHome: false,\n      redirectToSignin: false\n    };\n\n    this.componentDidMount = () => {\n      const postId = this.props.match.params.postId;\n      singlePost(postId).then(data => {\n        if (data.error) {\n          console.log(data.error);\n        } else {\n          this.setState({\n            post: data\n          });\n        }\n      });\n    };\n\n    this.renderPost = post => {\n      // const posterName = post.postedBy ? post.postedBy.name : ' Unknown';\n      return React.createElement(\"div\", {\n        className: \"card-body\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 29\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        src: \"/post/photo/\".concat(post._id),\n        alt: post.title,\n        onError: i => i.target.src = \"https://i.stack.imgur.com/l60Hf.pnghttps://i.stack.imgur.com/l60Hf.png\",\n        className: \"img-thunbnail mb-3\",\n        style: {\n          height: '300px',\n          width: '100%',\n          objectFit: 'cover'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 30\n        },\n        __self: this\n      }), React.createElement(\"p\", {\n        className: \"card-text\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 42\n        },\n        __self: this\n      }, post.body), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 43\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"d-inline-block\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 48\n        },\n        __self: this\n      }, React.createElement(Link, {\n        to: \"/\",\n        className: \"btn btn-raised btn-primary btn-sm mr-5\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 49\n        },\n        __self: this\n      }, \"Back to posts\")));\n    };\n  }\n\n  render() {\n    const _this$state = this.state,\n          post = _this$state.post,\n          redirectToHome = _this$state.redirectToHome,\n          redirectToSignin = _this$state.redirectToSignin;\n\n    if (redirectToHome) {\n      return React.createElement(Redirect, {\n        to: \"/\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61\n        },\n        __self: this\n      });\n    } else if (redirectToSignin) {\n      return React.createElement(Redirect, {\n        to: \"/signin\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63\n        },\n        __self: this\n      });\n    }\n\n    return React.createElement(\"div\", {\n      className: \"container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }, React.createElement(\"h2\", {\n      className: \"display-2 mt-5 mb-5\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    }, post.title), !post ? React.createElement(\"div\", {\n      className: \"jumbotron text-center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }, React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    }, \"Loading...\")) : this.renderPost(post));\n  }\n\n}\n\nexport default Userpost;","map":{"version":3,"sources":["/home/subhash/Documents/last/lst_2/client/src/core/Userpost.js"],"names":["React","Component","isAuthenciate","like","unlike","singlePost","Link","Redirect","Userpost","state","post","redirectToHome","redirectToSignin","componentDidMount","postId","props","match","params","then","data","error","console","log","setState","renderPost","_id","title","i","target","src","height","width","objectFit","body","render"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { isAuthenciate, like, unlike, singlePost } from '../auth/index';\nimport { Link, Redirect } from 'react-router-dom';\n\nclass Userpost extends Component {\n    state = {\n        post: '',\n        redirectToHome: false,\n        redirectToSignin: false,\n    };\n\n    componentDidMount = () => {\n        const postId = this.props.match.params.postId;\n        singlePost(postId).then(data => {\n            if (data.error) {\n                console.log(data.error);\n            } else {\n                this.setState({\n                    post: data\n                });\n            }\n        });\n    };\n\n    renderPost = post => {\n        // const posterName = post.postedBy ? post.postedBy.name : ' Unknown';\n\n        return (\n            <div className=\"card-body\">\n                <img\n                    src={`/post/photo/${post._id}`}\n                    alt={post.title}\n                    onError={i => (i.target.src = \"https://i.stack.imgur.com/l60Hf.pnghttps://i.stack.imgur.com/l60Hf.png\")}\n                    className=\"img-thunbnail mb-3\"\n                    style={{\n                        height: '300px',\n                        width: '100%',\n                        objectFit: 'cover'\n                    }}\n                />\n\n                <p className=\"card-text\">{post.body}</p>\n                <br />\n                {/* <p className=\"font-italic mark\">\n                    Posted by <Link to={`${posterId}`}>{posterName} </Link>\n                    on {new Date(post.created).toDateString()}\n                </p> */}\n                <div className=\"d-inline-block\">\n                    <Link to={`/`} className=\"btn btn-raised btn-primary btn-sm mr-5\">\n                        Back to posts\n                    </Link>\n                </div>\n            </div>\n        );\n    };\n\n    render() {\n        const { post, redirectToHome, redirectToSignin } = this.state;\n\n        if (redirectToHome) {\n            return <Redirect to={`/`} />;\n        } else if (redirectToSignin) {\n            return <Redirect to={`/signin`} />;\n        }\n\n        return (\n            <div className=\"container\">\n                <h2 className=\"display-2 mt-5 mb-5\">{post.title}</h2>\n\n                {!post ? (\n                    <div className=\"jumbotron text-center\">\n                        <h2>Loading...</h2>\n                    </div>\n                ) : (\n                    this.renderPost(post)\n                )}\n            </div>\n        );\n    }}\n\nexport default Userpost;"]},"metadata":{},"sourceType":"module"}